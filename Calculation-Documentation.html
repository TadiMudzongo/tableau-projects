<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-55M4ZB6GXN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-55M4ZB6GXN');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chicago VRD Calculations Documentation | Tadiwanashe Mudzongo</title>
  <link rel="stylesheet" href="assets/css/main.css" />
  <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  
  <!-- MathJax -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body class="is-preload">

<div id="wrapper" class="divided">

  <!-- Content Section -->
  <section id="springboks-content" style="display: flex; flex-direction: column; align-items: stretch;">
    <div class="content" style="width: 100%; max-width: none; flex: 1;">
      <h2>Chicago Violence Reduction Dashboard | Calculation Documentation</h2>
      <p>This page provides technical documentation for key calculations used in the Tableau dashboard, including details on logic, assumptions, and formula design.</p>
    </div>
  </section>

  <!-- Calculation Section 1 -->
<!-- Calculation Section: Per Week Denominator -->
<section class="springboks-spotlight" id="calc-per-week">
  <div class="content">
    <h2>Per Week Denominator</h2>
    <p>
      Several metrics in this dashboard are normalized by the number of weeks in the selected date range. This enables fair comparisons between areas and groups that may span different time periods.
    </p>

        <p>
      This denominator is used in the following metrics:
      <ul>
        <li>Homicides per Week</li>
        <li>Shooting Incidents per Week</li>
        <li>Shooting Victims per Week</li>
      </ul>
    </p>
    <p>
      Each of these metrics divides the total count of incidents by the number of weeks in the filtered date range, enabling standardized comparisons even when different groups cover different time spans.
    </p>
    
    <p>
      The denominator for all “per week” metrics is calculated as:
    </p>
    <p style="font-size: 1.2rem;">
      $$
      \text{Weeks} = \frac{\text{MAX(Date)} - \text{MIN(Date)}}{7}
      $$
    </p>
    <p>
      In Tableau, we calculate this using a Level of Detail (LOD) expression to ensure the time span is fixed across all formatting and groupings:
    </p>
    <pre><code>
SUM((
  DATEDIFF('day',
    {EXCLUDE [Community Area], [Formatting Shapefile Coloumn] : MIN([Date])},
    {EXCLUDE [Community Area], [Formatting Shapefile Coloumn] : MAX([Date])}
  ) / 7.0
))
    </code></pre>

  </div>
</section>


  <!-- Placeholder Section 2 -->
<!-- Calculation Section: Per Day Denominator -->
<section class="springboks-spotlight" id="calc-per-day">
  <div class="content">
    <h2>Per Day Denominator</h2>
    <p>
      Some metrics in the dashboard are normalized by the number of days in the filtered date range. This allows you to compare areas and groups based on average daily activity, regardless of how long the time window is.
    </p>

        <p>
      This denominator is used in the following metrics:
      <ul>
        <li>Victimizations per Day</li>
        <li>Homicides per Day</li>
        <li>Shooting Incidents per Day</li>
      </ul>
    </p>
    <p>
      These metrics take the total count of incidents and divide it by the number of days in the current view, producing a normalized daily average.
    </p>

    
    <p>
      The denominator for these “per day” metrics is calculated as:
    </p>
    <p style="font-size: 1.2rem;">
      $$
      \text{Days} = (\text{MAX(Date)} - \text{MIN(Date)}) + 1
      $$
    </p>
    <p>
      The +1 ensures both endpoints of the date range are included — for example, Jan 1 to Jan 1 is treated as 1 day, not 0.
    </p>
    <p>
      In Tableau, this is implemented using a Level of Detail (LOD) expression to fix the date span across all groupings:
    </p>
    <pre><code>
SUM(
  DATEDIFF('day',
    {EXCLUDE [Community Area], [Formatting Shapefile Coloumn] : MIN([Date])},
    {EXCLUDE [Community Area], [Formatting Shapefile Coloumn] : MAX([Date])}
  ) + 1
)
    </code></pre>

  </div>
</section>


  <!-- Placeholder Section 3 -->
  <section class="springboks-spotlight" id="calc-3">
    <div class="content">
      <h2>3. Placeholder Calculation</h2>
      <p>This section will explain another core metric used in the dashboard.</p>
      <p>Details to be added...</p>
    </div>
  </section>

  <!-- Placeholder Section 4 -->
  <section class="springboks-spotlight" id="calc-4">
    <div class="content">
      <h2>4. Placeholder Calculation</h2>
      <p>This section will explain another core metric used in the dashboard.</p>
      <p>Details to be added...</p>
    </div>
  </section>

  <!-- Placeholder Section 5 -->
  <section class="springboks-spotlight" id="calc-5">
    <div class="content">
      <h2>5. Placeholder Calculation</h2>
      <p>This section will explain another core metric used in the dashboard.</p>
      <p>Details to be added...</p>
    </div>
  </section>

</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

</body>
</html>

